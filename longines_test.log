2025-11-13 23:19:13 - web_crawler - INFO - Logging configured successfully
2025-11-13 23:19:13 - web_crawler - DEBUG - Updating configuration from command line arguments
2025-11-13 23:19:13 - web_crawler - INFO - Configuration updated: CPUs=1, timeout=60s, headless=True
2025-11-13 23:19:13 - web_crawler - DEBUG - Validating configuration
2025-11-13 23:19:13 - web_crawler - INFO - Configuration validated successfully
Web Crawler Configuration:
  CPUs: 1/64
  Output directory: crawled_data
  Max pages per website: 1
  Page timeout: 60s
  Network timeout: 10s
  Browser mode: Headless

2025-11-13 23:19:13 - web_crawler - INFO - Processing CSV file: longines_test_single.csv
2025-11-13 23:19:13 - web_crawler - INFO - Starting web crawl from CSV file: longines_test_single.csv
Starting web crawl from: longines_test_single.csv
--------------------------------------------------
2025-11-13 23:19:13 - web_crawler - DEBUG - Initializing multi-process crawler
2025-11-13 23:19:13 - web_crawler - INFO - Beginning crawling process
2025-11-13 23:19:13,233 - src.scraper - www.longines.com - INFO - Initializing WebsiteScraper
2025-11-13 23:19:13,234 - src.scraper - www.longines.com - INFO - Popup debug mode enabled - screenshots will be saved to popup_debug_screenshots
2025-11-13 23:19:13,234 - src.scraper - www.longines.com - INFO - WebsiteScraper initialized successfully
2025-11-13 23:19:13,234 - src.scraper - www.longines.com - INFO - ğŸ” PHASE 1: Starting directory discovery for https://www.longines.com
2025-11-13 23:19:13,523 - src.scraper - www.longines.com - INFO - ğŸ” Starting directory-level page discovery from: https://www.longines.com
2025-11-13 23:19:13,524 - src.scraper - www.longines.com - INFO - ğŸ“‚ Directory discovery completed: 1 directories found
2025-11-13 23:19:13,524 - src.scraper - www.longines.com - INFO - ğŸ¯ Using ALL 1 discovered directories
2025-11-13 23:19:13,524 - src.scraper - www.longines.com - INFO - ğŸ” PHASE 1.5: Discovering site-specific popup patterns from 1 sample URLs
2025-11-13 23:19:13,830 - src.scraper - www.longines.com - INFO - ğŸ” Analyzing URL 1/1: https://www.longines.com
2025-11-13 23:19:13,857 - src.scraper - www.longines.com - INFO - ğŸŒ Navigating to https://www.longines.com...
2025-11-13 23:19:14,455 - src.scraper - www.longines.com - INFO - âœ… Page loaded successfully
2025-11-13 23:19:25,552 - src.scraper - www.longines.com - INFO - ğŸ” Starting HTML analysis for popup/cookie selectors...
2025-11-13 23:19:25,637 - src.scraper - www.longines.com - INFO - ğŸ¯ HTML Analysis: Discovered 1 selectors: #usercentrics-root(95% cookie_script)
2025-11-13 23:19:25,637 - src.scraper - www.longines.com - INFO - ğŸ“Š HTML analysis returned 1 potential selectors
2025-11-13 23:19:25,637 - src.scraper - www.longines.com - INFO - ğŸ” Analyzing DOM for high z-index overlays on https://www.longines.com
2025-11-13 23:19:25,670 - src.scraper - www.longines.com - INFO - ğŸ” DOM Analysis Results: 1801 elements scanned, 20 potential overlays found
2025-11-13 23:19:25,670 - src.scraper - www.longines.com - INFO - ğŸ“Š Top z-indexes found: [9999999, 99999, 1251, 1199, 1100, 1001, 1000, 1000, 1000, 1000]
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ“Š Z-index range: min: 1000, max: 9999999
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ“Š DOM Analysis found 20 overlay selectors
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ“Š Total selectors after merge: 21 (HTML: 1, DOM: 20)
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ”„ Processing 21 discovered selectors for storage...
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ¯ Discovered cookie_script selector (95%): #usercentrics-root
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ¯ Discovered high_z_overlay selector (95%): .SkipToMainContent_SkipToMainContent__XE5HC
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ¯ Discovered high_z_overlay selector (95%): .Button_ButtonA11y__nA_2d
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ¯ Discovered high_z_overlay selector (95%): .Header_Toolbar__8JmKF
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ¯ Discovered high_z_overlay selector (95%): .PrivateSwipeArea-root
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ¯ Discovered high_z_overlay selector (95%): .Header_Sticky__j9dbC
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ¯ Discovered high_z_overlay selector (95%): .Header_Toolbar__Content__KUicx
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ¯ Discovered high_z_overlay selector (95%): .button-text
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ¯ Discovered high_z_overlay selector (95%): .MuiButtonBase-root
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ¯ Discovered high_z_overlay selector (95%): .Header_Logo__74Wlj
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ¯ Discovered high_z_overlay selector (95%): .Header_Toolbar__Content__List__dl_dE
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ¯ Discovered high_z_overlay selector (95%): .button-paragraph
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ¯ Discovered high_z_overlay selector (95%): .relative
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ¯ Discovered high_z_overlay selector (95%): .Sticky_Sticky__reC2k
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ¯ Discovered high_z_overlay selector (95%): .transition-height
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ¯ Discovered high_z_overlay selector (85%): .swiper-scrollbar
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ¯ Discovered high_z_overlay selector (85%): .px-[8vw]
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ¯ Discovered high_z_overlay selector (85%): .CloseButton_Button__I2OMq
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ¯ Discovered high_z_overlay selector (85%): .left-[5px]
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ¯ Discovered high_z_overlay selector (85%): .Dialog_Head__hF57z
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ¯ Discovered high_z_overlay selector (85%): .Grid_Wrapper__qAxOK
2025-11-13 23:19:25,671 - src.scraper - www.longines.com - INFO - ğŸ“¦ Stored 21 unique selectors so far
2025-11-13 23:19:25,713 - src.scraper - www.longines.com - INFO - âœ… PHASE 1.5 Complete: Discovered 21 site-specific selectors
2025-11-13 23:19:25,713 - src.scraper - www.longines.com - INFO - ğŸ¯ Discovered 21 site-specific popup patterns
2025-11-13 23:19:25,741 - src.scraper - www.longines.com - INFO - ğŸ“‚ Directory discovery completed: 1 directories found
2025-11-13 23:19:25,741 - src.scraper - www.longines.com - INFO - ğŸš€ PHASE 2: Starting TRUE parallel scraping of ALL 1 discovered directories using 1 CPUs
2025-11-13 23:19:25,741 - src.scraper - www.longines.com - INFO - ğŸ“ Root directory: longines_2025_11_13_23_19
2025-11-13 23:19:25,741 - src.scraper - www.longines.com - INFO - ğŸ“‹ Prepared 1 independent scraping tasks
2025-11-13 23:19:25,741 - src.scraper - www.longines.com - INFO - âš¡ Launching 1 processes (using ALL 1 configured CPUs)
2025-11-13 23:19:28,922 - popup_worker_0 - www.longines.com - INFO - Popup debug mode enabled - screenshots will be saved to popup_debug_screenshots
2025-11-13 23:19:28,922 - popup_worker_0 - www.longines.com - INFO - ğŸ”§ Popup handler initialized with 21 site-specific selectors
2025-11-13 23:19:28,922 - popup_worker_0 - www.longines.com - INFO - ğŸ¯ Starting popup handling with strategy: conservative
2025-11-13 23:19:31,099 - popup_worker_0 - www.longines.com - INFO - ğŸ“¸ Debug screenshot taken: popup_debug_screenshots/popup_debug_popup_start.png
2025-11-13 23:19:31,100 - popup_worker_0 - www.longines.com - INFO - ğŸš€ Starting conservative popup handling
2025-11-13 23:19:31,100 - popup_worker_0 - www.longines.com - INFO - ğŸ“Œ Step 1: Trying ESC key
2025-11-13 23:19:31,609 - popup_worker_0 - www.longines.com - INFO - âœ… ESC key pressed successfully
2025-11-13 23:19:33,669 - popup_worker_0 - www.longines.com - INFO - ğŸ“¸ Debug screenshot taken: popup_debug_screenshots/popup_debug_after_escape_key.png
2025-11-13 23:19:33,869 - popup_worker_0 - www.longines.com - INFO - ğŸ“Œ Step 2: Handling cookie consent popups (using 21 site-specific selectors)
2025-11-13 23:19:33,869 - popup_worker_0 - www.longines.com - INFO - ğŸª Handling cookie consent popups
2025-11-13 23:19:33,869 - popup_worker_0 - www.longines.com - INFO - ğŸ¯ Using 21 discovered site-specific selectors first: ['#usercentrics-root', '.SkipToMainContent_SkipToMainContent__XE5HC', '.Button_ButtonA11y__nA_2d', '.Header_Toolbar__8JmKF', '.PrivateSwipeArea-root']
2025-11-13 23:19:33,870 - popup_worker_0 - www.longines.com - INFO - ğŸ” Checking 43 cookie selectors (including 22 general patterns)
2025-11-13 23:19:33,870 - popup_worker_0 - www.longines.com - INFO - ğŸ” Checking selector: #usercentrics-root
2025-11-13 23:19:33,879 - popup_worker_0 - www.longines.com - INFO - âš ï¸ Container #usercentrics-root not found in DOM, skipping
2025-11-13 23:19:33,879 - popup_worker_0 - www.longines.com - INFO - ğŸ” Checking selector: .SkipToMainContent_SkipToMainContent__XE5HC
2025-11-13 23:19:33,898 - popup_worker_0 - www.longines.com - INFO - âœ… Container .SkipToMainContent_SkipToMainContent__XE5HC found and visible, looking for buttons...
2025-11-13 23:19:33,924 - popup_worker_0 - www.longines.com - INFO - ğŸ¯ Found 0 potential buttons for selector .SkipToMainContent_SkipToMainContent__XE5HC
2025-11-13 23:19:33,924 - popup_worker_0 - www.longines.com - INFO - âš ï¸ No buttons found in .SkipToMainContent_SkipToMainContent__XE5HC, trying alternative approaches...
2025-11-13 23:19:33,930 - popup_worker_0 - www.longines.com - INFO - ğŸ” Found 0 clickable elements in container .SkipToMainContent_SkipToMainContent__XE5HC
2025-11-13 23:19:33,930 - popup_worker_0 - www.longines.com - INFO - ğŸ—‘ï¸ No acceptable buttons found, FORCE removing container .SkipToMainContent_SkipToMainContent__XE5HC via JavaScript
2025-11-13 23:19:33,934 - popup_worker_0 - www.longines.com - INFO - âœ… Successfully FORCE removed container .SkipToMainContent_SkipToMainContent__XE5HC
2025-11-13 23:19:36,956 - popup_worker_0 - www.longines.com - INFO - ğŸ“¸ Debug screenshot taken: popup_debug_screenshots/popup_debug_after_cookie_consent.png
2025-11-13 23:19:37,957 - popup_worker_0 - www.longines.com - INFO - ğŸ§¹ Running aggressive OneTrust cleanup to ensure complete removal...
2025-11-13 23:19:37,963 - popup_worker_0 - www.longines.com - INFO - ğŸ—‘ï¸ Aggressive cleanup removed 0 OneTrust/cookie banner elements
2025-11-13 23:19:38,469 - popup_worker_0 - www.longines.com - INFO - âœ… Cookie banner verification: No visible banners found
2025-11-13 23:19:40,494 - popup_worker_0 - www.longines.com - INFO - ğŸ“¸ Debug screenshot taken: popup_debug_screenshots/popup_debug_after_aggressive_cleanup.png
2025-11-13 23:19:40,795 - popup_worker_0 - www.longines.com - INFO - ğŸ“Œ Step 3: Clicking basic close buttons
2025-11-13 23:19:40,795 - popup_worker_0 - www.longines.com - INFO - ğŸ”˜ Clicking basic close buttons
2025-11-13 23:19:41,229 - popup_worker_0 - www.longines.com - INFO - âœ… Successfully clicked basic close button: button[class*="accept"]
2025-11-13 23:19:43,742 - popup_worker_0 - www.longines.com - INFO - ğŸ“¸ Debug screenshot taken: popup_debug_screenshots/popup_debug_after_close_buttons.png
2025-11-13 23:19:43,942 - popup_worker_0 - www.longines.com - INFO - ğŸ“Œ Step 4: Final gentle overlay cleanup
2025-11-13 23:19:43,943 - popup_worker_0 - www.longines.com - INFO - ğŸ§¹ Performing conservative overlay cleanup
2025-11-13 23:19:43,947 - popup_worker_0 - www.longines.com - INFO - ğŸ§¹ Conservative overlay cleanup completed - hidden 0 elements
2025-11-13 23:19:45,969 - popup_worker_0 - www.longines.com - INFO - ğŸ“¸ Debug screenshot taken: popup_debug_screenshots/popup_debug_after_final_cleanup.png
2025-11-13 23:19:46,469 - popup_worker_0 - www.longines.com - INFO - âœ… Conservative popup handling completed
2025-11-13 23:19:46,469 - popup_worker_0 - www.longines.com - INFO - âœ… Popup handling completed
2025-11-13 23:19:48,486 - popup_worker_0 - www.longines.com - INFO - ğŸ“¸ Debug screenshot taken: popup_debug_screenshots/popup_debug_popup_end.png
2025-11-13 23:19:51,632 - src.scraper - www.longines.com - INFO - ğŸ“Š Progress: 1/1 directories completed (1 screenshots, 1 HTML files)
2025-11-13 23:19:51,639 - src.scraper - www.longines.com - INFO - âœ… TRUE parallel scraping completed: 1 directories processed across 1 independent processes
2025-11-13 23:19:51,639 - src.scraper - www.longines.com - INFO - ğŸ“ˆ Final stats: 1 screenshots, 1 HTML files, 0 errors
2025-11-13 23:19:51 - web_crawler - INFO - Crawling process completed successfully
2025-11-13 23:19:51 - web_crawler - DEBUG - Generating and displaying results summary

============================================================
WEB CRAWLER SUMMARY
============================================================
Total execution time: 38.42 seconds
Websites processed: 1
Successful: 1
Failed: 0
Total pages scraped: 1
Total screenshots taken: 1
Total HTML files saved: 1
Total errors encountered: 0

Performance:
  Pages per second: 0.03
  Websites per minute: 1.56
  Avg pages per website: 1.0

============================================================
2025-11-13 23:19:51 - web_crawler - INFO - Web crawler application completed
